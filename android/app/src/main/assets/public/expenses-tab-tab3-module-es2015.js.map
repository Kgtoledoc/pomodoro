{"version":3,"sources":["./src/app/expenses-tab/tab3.module.ts","./src/app/expenses-tab/tab3.page.ts","./src/app/expenses-tab/tab3.page.scss","./src/app/expenses-tab/tab3-routing.module.ts","./src/app/expenses-tab/tab3.page.html"],"names":[],"mappings":"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","file":"expenses-tab-tab3-module-es2015.js","sourcesContent":["import { IonicModule } from \"@ionic/angular\";\nimport { RouterModule } from \"@angular/router\";\nimport { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { FormsModule } from \"@angular/forms\";\nimport { Tab3Page } from \"./tab3.page\";\n\nimport { Tab3PageRoutingModule } from \"./tab3-routing.module\";\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    RouterModule.forChild([{ path: \"\", component: Tab3Page }]),\n    Tab3PageRoutingModule,\n  ],\n  declarations: [Tab3Page],\n})\nexport class Tab3PageModule {}\n","import { Component } from \"@angular/core\";\nimport { AlertController, ModalController } from \"@ionic/angular\";\nimport { NewExpensePage } from \"../pages/new-expense/new-expense.page\";\n\n@Component({\n  selector: \"app-tab3\",\n  templateUrl: \"tab3.page.html\",\n  styleUrls: [\"tab3.page.scss\"],\n})\nexport class Tab3Page {\n  totalExpenses: Array<any>;\n  expensesArray: Array<any>;\n  filterTerm: string;\n  month: any;\n  categoryArray: Array<any>;\n  totalExpensesMonthly: Number = null;\n  monthlySalary: Number = null;\n  flagMonthlySalary: Boolean = false;\n\n\n\n  constructor(\n    private modalController: ModalController,\n    private alertController: AlertController\n  ) { }\n\n  ngOnInit() {\n    const monthNames = [\n      \"January\",\n      \"February\",\n      \"March\",\n      \"April\",\n      \"May\",\n      \"June\",\n      \"July\",\n      \"August\",\n      \"September\",\n      \"October\",\n      \"November\",\n      \"December\",\n    ];\n    this.monthlySalary = JSON.parse(localStorage.getItem('monthlySalary')) ? JSON.parse(localStorage.getItem('monthlySalary')) : null;\n    if (this.monthlySalary == null) {\n      this.presentAlertPrompt()\n    }\n\n\n    this.month = monthNames[new Date().getMonth()];\n\n    let totalExpensesArrayStored = JSON.parse(\n      localStorage.getItem(\"expensesArray\")\n    )\n      ? JSON.parse(localStorage.getItem(\"expensesArray\"))\n      : [];\n\n    this.expensesArray = totalExpensesArrayStored.filter((e) => {\n      let month = monthNames[new Date(e.date).getMonth()];\n      return this.month == month;\n    });\n\n    this.extractTotal(this.expensesArray);\n  }\n\n  async addExpenses() {\n    const modal = await this.modalController.create({\n      component: NewExpensePage,\n    });\n    modal.onDidDismiss().then((d) => {\n      if (d.data[\"dismissed\"] != true) {\n        console.log(d);\n        this.expensesArray.push(d.data);\n        localStorage.setItem(\n          \"expensesArray\",\n          JSON.stringify(this.expensesArray)\n        );\n        this.extractTotal(this.expensesArray);\n      }\n    });\n    return await modal.present();\n  }\n\n  extractTotal(array) {\n    let total = 0;\n    array.forEach((e) => {\n      total = total + e.price;\n      return total;\n    });\n    console.log(total);\n    this.totalExpensesMonthly = total;\n  }\n\n  async presentAlertPrompt() {\n    const alert = await this.alertController.create({\n      cssClass: \"my-custom-class\",\n      header: \"Ingrese el valor del salario:\",\n      inputs: [\n        {\n          name: \"salary\",\n          type: \"number\",\n        },\n      ],\n      buttons: [\n        {\n          text: \"Cancel\",\n          role: \"cancel\",\n          cssClass: \"secondary\",\n          handler: () => {\n            console.log(\"Confirm Cancel\");\n          },\n        },\n        {\n          text: \"Ok\",\n          handler: (data) => {\n            this.monthlySalary = data.salary\n            this.saveMonthlySalary()\n          },\n        },\n      ],\n    });\n\n    await alert.present();\n  }\n\n  saveMonthlySalary() {\n    localStorage.setItem(\n      \"monthlySalary\",\n      JSON.stringify(this.monthlySalary)\n    );\n  }\n\n\n}\n","export default \"ion-label {\\n  text-align: center;\\n}\\n\\nion-list-header {\\n  margin-top: 0;\\n}\\n\\n.content-header {\\n  font-size: 0.8em;\\n  text-align: center;\\n  font-weight: 600;\\n}\\n\\n.content-task {\\n  font-size: 0.7em;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3RhYjMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7QUFDRjs7QUFFQTtFQUNFLGFBQUE7QUFDRjs7QUFFQTtFQUNFLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtBQUNGOztBQUVBO0VBQ0UsZ0JBQUE7QUFDRiIsImZpbGUiOiJ0YWIzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1sYWJlbCB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuaW9uLWxpc3QtaGVhZGVyIHtcbiAgbWFyZ2luLXRvcDogMDtcbn1cblxuLmNvbnRlbnQtaGVhZGVyIHtcbiAgZm9udC1zaXplOiAwLjhlbTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXdlaWdodDogNjAwO1xufVxuXG4uY29udGVudC10YXNrIHtcbiAgZm9udC1zaXplOiAwLjdlbTtcbn1cblxuXG4iXX0= */\";","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab3Page } from './tab3.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab3Page,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab3PageRoutingModule {}\n","export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-title>Lista de Gastos</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"presentAlertPrompt()\\\">\\n        <ion-icon name=\\\"filter-outline\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-header>\\n  <ion-grid>\\n    <ion-row class=\\\"ion-align-items-center content-header\\\">\\n      <ion-col size=\\\"4\\\">\\n        <p>Salario {{ monthlySalary | currency:'COP ':'symbol' }}</p>\\n      </ion-col>\\n      <ion-col size=\\\"4\\\">\\n        <p>{{ month }}</p>\\n      </ion-col>\\n      <ion-col size=\\\"4\\\">\\n        <p>\\n          Total Gastos {{ totalExpensesMonthly | currency:'COP ': 'symbol' }}\\n        </p>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-header>\\n<ion-content [fullscreen]=\\\"false\\\">\\n  <ion-grid>\\n    <ion-list lines=\\\"full\\\" *ngFor=\\\"let expense of expensesArray\\\">\\n      <ion-item-sliding>\\n        <ion-item>\\n          <ion-grid class=\\\"content-task\\\">\\n            <ion-row>\\n              <ion-col class=\\\"start-side-class\\\" size=\\\"4\\\">\\n                <p>{{ expense.name }}</p>\\n              </ion-col>\\n              <ion-col class=\\\"center-side-class\\\" size=\\\"4\\\">\\n                <p>{{ expense.price | currency:'COP ':'symbol' }}</p>\\n              </ion-col>\\n              <ion-col size=\\\"4\\\" class=\\\"end-side-class\\\">\\n                <p>{{ expense.date | date:'shortDate' }}</p>\\n              </ion-col>\\n            </ion-row>\\n          </ion-grid>\\n        </ion-item>\\n      </ion-item-sliding>\\n    </ion-list>\\n  </ion-grid>\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button size=\\\"small\\\" color=\\\"secondary\\\" (click)=\\\"addExpenses()\\\">\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}