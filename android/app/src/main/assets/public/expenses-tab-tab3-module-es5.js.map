{"version":3,"sources":["webpack:///src/app/expenses-tab/tab3.module.ts","webpack:///src/app/expenses-tab/tab3.page.ts","webpack:///src/app/expenses-tab/tab3.page.scss","webpack:///src/app/expenses-tab/tab3-routing.module.ts","webpack:///src/app/expenses-tab/tab3.page.html"],"names":["Tab3PageModule","imports","forChild","path","component","declarations","Tab3Page","modalController","alertController","totalExpensesMonthly","monthlySalary","flagMonthlySalary","monthNames","JSON","parse","localStorage","getItem","presentAlertPrompt","month","Date","getMonth","totalExpensesArrayStored","expensesArray","filter","e","date","extractTotal","create","modal","onDidDismiss","then","d","data","console","log","push","setItem","stringify","present","array","total","forEach","price","cssClass","header","inputs","name","type","buttons","text","role","handler","salary","saveMonthlySalary","alert","selector","template","routes","Tab3PageRoutingModule","exports"],"mappings":"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","file":"expenses-tab-tab3-module-es5.js","sourcesContent":["import { IonicModule } from \"@ionic/angular\";\nimport { RouterModule } from \"@angular/router\";\nimport { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { FormsModule } from \"@angular/forms\";\nimport { Tab3Page } from \"./tab3.page\";\n\nimport { Tab3PageRoutingModule } from \"./tab3-routing.module\";\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    RouterModule.forChild([{ path: \"\", component: Tab3Page }]),\n    Tab3PageRoutingModule,\n  ],\n  declarations: [Tab3Page],\n})\nexport class Tab3PageModule {}\n","import { Component } from \"@angular/core\";\nimport { AlertController, ModalController } from \"@ionic/angular\";\nimport { NewExpensePage } from \"../pages/new-expense/new-expense.page\";\n\n@Component({\n  selector: \"app-tab3\",\n  templateUrl: \"tab3.page.html\",\n  styleUrls: [\"tab3.page.scss\"],\n})\nexport class Tab3Page {\n  totalExpenses: Array<any>;\n  expensesArray: Array<any>;\n  filterTerm: string;\n  month: any;\n  categoryArray: Array<any>;\n  totalExpensesMonthly: Number = null;\n  monthlySalary: Number = null;\n  flagMonthlySalary: Boolean = false;\n\n\n\n  constructor(\n    private modalController: ModalController,\n    private alertController: AlertController\n  ) { }\n\n  ngOnInit() {\n    const monthNames = [\n      \"January\",\n      \"February\",\n      \"March\",\n      \"April\",\n      \"May\",\n      \"June\",\n      \"July\",\n      \"August\",\n      \"September\",\n      \"October\",\n      \"November\",\n      \"December\",\n    ];\n    this.monthlySalary = JSON.parse(localStorage.getItem('monthlySalary')) ? JSON.parse(localStorage.getItem('monthlySalary')) : null;\n    if (this.monthlySalary == null) {\n      this.presentAlertPrompt()\n    }\n\n\n    this.month = monthNames[new Date().getMonth()];\n\n    let totalExpensesArrayStored = JSON.parse(\n      localStorage.getItem(\"expensesArray\")\n    )\n      ? JSON.parse(localStorage.getItem(\"expensesArray\"))\n      : [];\n\n    this.expensesArray = totalExpensesArrayStored.filter((e) => {\n      let month = monthNames[new Date(e.date).getMonth()];\n      return this.month == month;\n    });\n\n    this.extractTotal(this.expensesArray);\n  }\n\n  async addExpenses() {\n    const modal = await this.modalController.create({\n      component: NewExpensePage,\n    });\n    modal.onDidDismiss().then((d) => {\n      if (d.data[\"dismissed\"] != true) {\n        console.log(d);\n        this.expensesArray.push(d.data);\n        localStorage.setItem(\n          \"expensesArray\",\n          JSON.stringify(this.expensesArray)\n        );\n        this.extractTotal(this.expensesArray);\n      }\n    });\n    return await modal.present();\n  }\n\n  extractTotal(array) {\n    let total = 0;\n    array.forEach((e) => {\n      total = total + e.price;\n      return total;\n    });\n    console.log(total);\n    this.totalExpensesMonthly = total;\n  }\n\n  async presentAlertPrompt() {\n    const alert = await this.alertController.create({\n      cssClass: \"my-custom-class\",\n      header: \"Ingrese el valor del salario:\",\n      inputs: [\n        {\n          name: \"salary\",\n          type: \"number\",\n        },\n      ],\n      buttons: [\n        {\n          text: \"Cancel\",\n          role: \"cancel\",\n          cssClass: \"secondary\",\n          handler: () => {\n            console.log(\"Confirm Cancel\");\n          },\n        },\n        {\n          text: \"Ok\",\n          handler: (data) => {\n            this.monthlySalary = data.salary\n            this.saveMonthlySalary()\n          },\n        },\n      ],\n    });\n\n    await alert.present();\n  }\n\n  saveMonthlySalary() {\n    localStorage.setItem(\n      \"monthlySalary\",\n      JSON.stringify(this.monthlySalary)\n    );\n  }\n\n\n}\n","export default \"ion-label {\\n  text-align: center;\\n}\\n\\nion-list-header {\\n  margin-top: 0;\\n}\\n\\n.content-header {\\n  font-size: 0.8em;\\n  text-align: center;\\n  font-weight: 600;\\n}\\n\\n.content-task {\\n  font-size: 0.7em;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3RhYjMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7QUFDRjs7QUFFQTtFQUNFLGFBQUE7QUFDRjs7QUFFQTtFQUNFLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtBQUNGOztBQUVBO0VBQ0UsZ0JBQUE7QUFDRiIsImZpbGUiOiJ0YWIzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1sYWJlbCB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuaW9uLWxpc3QtaGVhZGVyIHtcbiAgbWFyZ2luLXRvcDogMDtcbn1cblxuLmNvbnRlbnQtaGVhZGVyIHtcbiAgZm9udC1zaXplOiAwLjhlbTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXdlaWdodDogNjAwO1xufVxuXG4uY29udGVudC10YXNrIHtcbiAgZm9udC1zaXplOiAwLjdlbTtcbn1cblxuXG4iXX0= */\";","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab3Page } from './tab3.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab3Page,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab3PageRoutingModule {}\n","export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-title>Lista de Gastos</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"presentAlertPrompt()\\\">\\n        <ion-icon name=\\\"filter-outline\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-header>\\n  <ion-grid>\\n    <ion-row class=\\\"ion-align-items-center content-header\\\">\\n      <ion-col size=\\\"4\\\">\\n        <p>Salario {{ monthlySalary | currency:'COP ':'symbol' }}</p>\\n      </ion-col>\\n      <ion-col size=\\\"4\\\">\\n        <p>{{ month }}</p>\\n      </ion-col>\\n      <ion-col size=\\\"4\\\">\\n        <p>\\n          Total Gastos {{ totalExpensesMonthly | currency:'COP ': 'symbol' }}\\n        </p>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-header>\\n<ion-content [fullscreen]=\\\"false\\\">\\n  <ion-grid>\\n    <ion-list lines=\\\"full\\\" *ngFor=\\\"let expense of expensesArray\\\">\\n      <ion-item-sliding>\\n        <ion-item>\\n          <ion-grid class=\\\"content-task\\\">\\n            <ion-row>\\n              <ion-col class=\\\"start-side-class\\\" size=\\\"4\\\">\\n                <p>{{ expense.name }}</p>\\n              </ion-col>\\n              <ion-col class=\\\"center-side-class\\\" size=\\\"4\\\">\\n                <p>{{ expense.price | currency:'COP ':'symbol' }}</p>\\n              </ion-col>\\n              <ion-col size=\\\"4\\\" class=\\\"end-side-class\\\">\\n                <p>{{ expense.date | date:'shortDate' }}</p>\\n              </ion-col>\\n            </ion-row>\\n          </ion-grid>\\n        </ion-item>\\n      </ion-item-sliding>\\n    </ion-list>\\n  </ion-grid>\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button size=\\\"small\\\" color=\\\"secondary\\\" (click)=\\\"addExpenses()\\\">\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n</ion-content>\\n\";"]}